<!DOCTYPE html>
<html lang="es">
<head>
    <title>Register</title>
    <link rel="stylesheet" href="/css/sign&log.css">
    <link rel="stylesheet" href="/css/colores.css">
    <link rel="stylesheet" href="/css/partials.css">  
    <%- include("../partials/head") %>
    <script src="/js/previewRegister.js"></script>
    <script src="/js/formRegister.js"></script>
</head>


<body>

    <%- include("../partials/header") %>

    <main>

        <h2>Registrarse</h2>

        <form action="/users/create" method="post" enctype="multipart/form-data">

            <input class="name" type="text" name="firstName" placeholder="Primer Nombre" value="<%=locals.old && old.firstName ? old.firstName : ""%>">
            <% if (locals.errors && errors.firstName) { %>
                <p class="name err-msg" class="err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.firstName.msg%> </p>
            <% } else { %>
                <p class="name err-msg"><i class="fa-solid fa-circle fa-2xs"></i> Ingresa tu Nombre</p>
            <% } %>

            <input class="surname" type="text" name="surname" placeholder="Apellido" value="<%=locals.old && old.surname ? old.surname : ""%>">
            <% if (locals.errors && errors.surname) { %>
                <p class="surname err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.surname.msg%> </p>
            <% } else { %>
                <p class="surname"><i class="fa-solid fa-circle fa-2xs"></i> Ingresa tu Apellido</p>
            <% } %>

            <input class="username" type="text" name="username" placeholder="Nombre de Usuario" value="<%=locals.old && old.username ? old.username : ""%>">
            <% if (locals.errors && errors.username) { %>
                <p class="username err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.username.msg%> </p>
            <% } else { %>
                <p class="username"><i class="fa-solid fa-circle fa-2xs"></i> Ingresa tu Usuario</p>
            <% } %>

            <input class="email" type="email" name="email" placeholder="Correo ElectrÃ³nico" value="<%=locals.old && old.email ? old.email : ""%>">
            <% if (locals.errors && errors.email) { %>
                <p class="email err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.email.msg%> </p>
            <% } else { %>
                <p class="email"><i class="fa-solid fa-circle fa-2xs"></i> Ingresa tu Email</p>
            <% } %>

            <input class="pass" type="password" name="password" placeholder="clave">
            <% if (locals.errors && errors.password) { %>
                <p class=" pass err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.password.msg%> </p>
            <% } else { %>
                <p class="pass"><i class="fa-solid fa-circle fa-2xs"></i> Crea tu clave</p>
            <% } %>

            <select class="class" name="seller">

                <option value="Vendedor" <%= locals.old && old.seller == "Vendedor" ? "selected" : "" %> >Vendedor</option>
                <option value="Comprador" <%= locals.old && old.seller == "Comprador" ? "selected" : "" %> >Comprador</option>

            </select>

            <p class="class yes"><i class="fa-solid fa-circle fa-2xs"></i></p>

            <div>
                <p>introducir imagen <i class="fa-regular fa-image"></i></p>
                <input type="file" name="avatar" id="file-ip-1" onchange="showPreview(event);">
            </div>

            <% if (locals.errors && errors.avatar) { %>
                <p id="image-point" class="waiting err-msg"><i class="fa-solid fa-circle fa-2xs"></i> <%=errors.avatar.msg%> </p>
            <% } else { %>
                <p id="image-point" class="waiting"><i class="fa-solid fa-circle fa-2xs"></i></p>
            <% } %>

           <input type="hidden" name="oldImg" value="<%=locals.old && old.image ? old.image : "" %>">

           <div>
                <p>Restablecer</p>
                <button type="reset"></button>
            </div>
            
            <div>
                <p>Enviar</p>
                <button type="submit"></button>
            </div>

        </form>
        
        <div class="preview">
            <img id="file-ip-1-preview">
        </div>
        
    </main>

</body>
</html>